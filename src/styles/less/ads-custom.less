//font awesome
@import '../fonts/fontawesome/less/font-awesome.less';

@import 'ads-variables';
@import 'mixins';


//global variables

@border-default : 1px solid @btn-default-border;

@border-light-default: 1px solid #dddddd;


@vis-brand-info : desaturate(@brand-info, 10%);

@vis-brand-primary :  lighten(desaturate(@brand-primary, 20%), 15%);


@vis-brand-success :  desaturate(@brand-success, 20%);


@facebook-color : rgb(59,89,153);

@twitter-color : rgb(64,153,255);

@mendeley-color : rgb(60,30,33);

@sciencewise-color: rgb(179, 27, 27);

//tests

#mocha-stats > li.progress {
  height: 40px;
}

//bootstrap overrides


.modal-content {
  height: 250px;
  margin-top: 30%;

}

.modal-body {
  padding: 60px 20px;
}

input:focus {
  border: 1px solid brighten(@brand-primary, 15%) !important;
  .lh-box-shadow(none)
}

select:focus {
  border: 1px solid brighten(@brand-primary, 15%) !important;
  .lh-box-shadow(none)

}

.tab-content {
  border-left: @border-light-default;
  border-right: @border-light-default;
  border-bottom:  @border-light-default;
  position: relative;
  top: -10px;
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  background-color: white;
}

.btn:active {
  outline: none !important;
}


// overriding button link focus
.btn-link:focus {
  outline:none;
  cursor: pointer;
}



// layout css

//the following weird classes are to get 100% height columns
//in results page


.s-left-column, .s-right-column {
  padding-top: 10px;
}

.s-results-page-layout .s-table-wrapper > .row {
  display: table;
}

.s-results-page-layout .s-left-column, .s-results-page-layout .s-middle-column, .s-results-page-layout .s-right-column {
  display: table-cell;
  float: none;
  vertical-align: top;
  border-top: @border-default;
}

.s-results-control-row {
  padding: 1%;
}


.s-search-bar-row {
  padding-bottom: 10px;
  border-bottom : @border-default;

  background-color: white;

  input  {
  background-color: rgba( 255, 255, 255, 0.97) !important;
  }

}

.s-motion-shadow {
  .lh-box-shadow(0 2px 2px -1px rgba(0,0,0,.1));
  background-color: rgba( 255, 255, 255, 0.9);
}

.s-search-bar-motion {
  .s-motion-shadow;

  border-bottom : @border-default;
  padding-top: 10px;
  position:fixed;
  top: 0px;
  z-index: 1000;

}


#body-template-container {
  min-height: 550px;

}


.s-results-page-layout .s-middle-column {
  border-right:  @border-default;
  border-left: @border-default;

}

.s-results-page-layout .s-left-column {
  .lh-background-image(linear-gradient(to bottom, lighten(@gray-lighter, 2%) 0%,#FFFFFF 100%))
}

.s-results-page-layout .s-right-column {
  .lh-background-image(linear-gradient(to bottom, lighten(@gray-lighter, 2%) 0%,#FFFFFF 100%))

}

#right-col-toggle {
  position: absolute;
  top: 1.25%;
  right: 2%;
  background-color: white;

}

.right-col-close {

  .glyphicon;
  .glyphicon-arrow-left;

}

//only shown when right col is currently closed
.right-col-open {

  .glyphicon;
  .glyphicon-arrow-right;
}


// utility classes/ general styling classes

.no-padding-right {
  padding-right: 0px !important;
}

.no-show {
  visibility: hidden
}

.unselectable {
  user-select: none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

//get rid of this
.hide {
  display: none;
}

//use this instead
.no-display{
  display: none !important;
}

.chosen {
  background-color: lighten(@brand-info, 40%)
}


.draw-attention {
  transition-property: background-color;
  transition-duration: 3s;
  background-color: lighten(@brand-warning, 12%)
}


.s-item-closed {
  color: @gray-light;
  .fa;
  .fa-2x;
  position: relative;
  top: 3px;
  &:before {
    content: @fa-var-angle-right;

  }
}

.s-item-open {
  color: @gray-light;
  .fa;
  .fa-2x;
  position: relative;
  top: 3px;
  &:before {
    content: @fa-var-angle-down;

  }

}

/*facets */

.s-child-facet-item-closed {
  display:inline-block;
  width: 5px;
  height: 5px;
  .glyphicon;
  .glyphicon-sort-by-attributes-alt;
  color: darken(@brand-warning, 18%);
  margin-left: 2px;
  cursor: pointer;
  z-index:1;
  font-size: 16px;
  position: relative;
  top: 5px;
}

.s-child-facet-item-open {
  display: inline-block;
  width: 5px;
  height: 5px;
  .glyphicon;
  .glyphicon-share-alt;
  color: darken(@brand-warning, 18%);
  transform:rotate(90deg);
  -ms-transform:rotate(90deg); /* IE 9 */
  -webkit-transform:rotate(90deg); /* Opera, Chrome, and Safari */
  margin-left: 4%;
  margin-top: 3px;
  cursor: pointer;
  z-index:1;
}

.item-open {
  .s-item-open
}

.item-closed {
  .s-item-closed
}

//rules for item open and closed styling
.tree {
  .item-open {
    .s-child-facet-item-open;
    font-size: 14px !important;
  }
  .item-closed {
    .s-child-facet-item-closed;
  }
}

.s-item-children .size-graphic-container {
  width: 74%
}


// results list css


//icons for links

.s-icon-draw-attention {
  color: darken(@brand-info, 5%) !important;

}

.s-link-details {
  position: absolute;
  margin-left: -8%;
  padding: 10px 15px 0px 15px;
  min-width: 125px;
  background-color: white;
  border: @border-light-default;
  .lh-border-radius(@border-radius-base);
  .lh-box-shadow(0 1px 5px @gray-lighter);
  z-index: 500;
}

.letter-icon {

  display: inline-block;
  margin-right: 5%;
  margin-top: 0px;
  width: 5%;

  i {
    cursor: pointer !important;
    color : darken(@brand-info, 15%);
  }

}


.s-data-icon {
  .fa;
  &:before {
    content : @fa-var-database;
  }

}

.s-list-icon {
  .fa;
  &:before {
    content : @fa-var-list-ul;
  }

}

.s-text-icon {
  .fa;
  &:before {
    content : @fa-var-file-text-o;
  }
}


.s-identifier a {
  color: @gray-dark;
}

  .just-authors {
    display: inline-block
  }

.s-result-item-buffer {
  margin-bottom: 15px;

}

.s-show-details-container {
  position: relative;
  left: 30px;
}

.s-results-title {
  margin-top: -2px;
  margin-bottom: 6px;
  font-size:17px;
  font-weight:500;
  color: darken(@brand-primary, 6%)
}


.s-results-authors {
  padding-left: .5%;
}


.s-highlight-list {
  padding: 20px 0px 0px 10px
}


.s-more-info {
    padding: 0px 1%;

    em {
      font-weight: bold;
    }

    li {
      list-style: none;
    }

    ul {
      padding-left: 2%;

    }
  blockquote {
    margin: 0em 2em;
    padding:.5em .5em;
    font-size: 1em}

  }

.s-checkbox-col {
  padding-right: 0px;
}

.s-results-controls {
  padding: 2%;
  min-width: 83 px;

}

.s-open-access {
  color: @brand-success !important;
}

.s-results-list {

  label {
    font-weight: initial
  }
}

#results-page-layout {
  .s-results-list {
    padding-left: 6%;

  }

}

  .field-options {
    min-width: 120px;
    padding: 7px;
  }

  .field-options span {
    display: block
  }

  #results h5 {
    margin-top: -3px;
    margin-bottom: 2px;
  }

  li.article-author {
    padding-left: 2px !important;
    padding-right: 2px !important;

  }

  // end results list css


//facets


.s-filter-image {
  .fa;
  &:before {
    content : @fa-var-filter;
  }
}

  .size-graphic-container {
    width: 77%;
    display: inline-block;
    background-color:lighten(@vis-brand-info, 30%);
    height: 19px;
    margin-left: 2px;
    margin-bottom: 4px;
    font-weight: 500;
    cursor: pointer;
    white-space: nowrap;

  }

.size-graphic {
  display: block;
  background-color:  lighten(@vis-brand-info, 15%);
  overflow-x: visible;
  color: black;
  font-size : 13px !important;
}


.s-facet-selected {
  .size-graphic {
    color: white;
    background-color: darken(@brand-info, 30%);
  }
  .size-graphic-container {
    background-color: darken(@brand-info, 10%);
  }
}

.s-widget .item-caret:hover {

  color: darken(@brand-warning, 5%);
  cursor: pointer;
}

.s-widget label {
  font-weight: normal;
  margin: 0px;
  width: 100%;
  display: inline-block;
}

.tree label {
  width: 92% !important;
  display:inline;

}

.tree .show-more button {
  margin-left: 50%;
}


.s-widget-meta {
  cursor: pointer !important;
  height: 25px;
}

.s-item-children {
  padding-left: 10%;

}


.s-logic-dropdown {
  position: relative;
  top: -33px;
  left: 75%;
  z-index: 5;

  button {
    padding: 0px;
  }
}

.s-dropdown-menu {
  padding: 15%;
  min-width: 93px;
  top: 70%;
  left: 50%;
}

.s-widget-options {
  height: 0px
}

.s-widget-meta .dropdown-menu p {
  padding: 3px 5px 0px 5px;
}

.s-widget-meta .dropdown-menu label {
  padding: 0px;
  margin: 0px;
}

.s-widget {
  margin: 10px;
  max-width: 275px;
}


.s-widget-body {
  x-overflow: hidden;
  y-overflow: hidden;
  padding-left: 2%;

}

@refereed  : @vis-brand-primary;

@nonrefereed : @vis-brand-success;


.graph-legend {
  font-size : 12px;
}

.s-citation-padding {
  height: 15px;
}
.s-widget-body .selected {
  color: @brand-primary
}

.logic-container label {
  display: block
}

.s-legend-color {
  display: inline-block;
  width: 10px;
  height: 10px;

}

.s-legend-color.refereed {
  background-color: @refereed;

}

.s-legend-color.nonrefereed {
  background-color: @nonrefereed;
}



.chart .full-bar, .dot{

  pointer-events: all;
  fill: @nonrefereed;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.x.axis path {
  display: none;
}

.s-vertical-slider {
  position: absolute !important;
  top: 61px !important;
  height: 180px !important;
  left: 11px !important;;

}

.line {
  fill: none;
  stroke: mix(@refereed, @nonrefereed, 30%);
  stroke-width: 5px;
}

.h-index {
  fill: none;
  stroke: @gray;
  stroke-width: 1px;

}


.chart .refereed {
  pointer-events: all;
  fill: @refereed;

}

  .chart .bar {
//    stroke: white;
    fill: @brand-success;
  }

  .chart .x-axis .active text {
    fill: lighten(@brand-primary, 10%);
  }

  .chart {
    pointer-events: all;
    min-height: 270px;
  }

  #citation-graph .chart {
    min-height: 240px;
  }

  .axis text {
    font: 11px sans-serif;
  }

  .axis path, .axis line {
    fill: none;
    stroke: #000;
    shape-rendering: crispEdges;
  }

  .show-slider-data-first, .show-slider-data-second {
    width: 28%;
  }

  .ui-slider {
    margin-bottom: 5px !important;
  }

  .slider-data {
    padding-top: 10px;

  }

  .graph-legend {
    height: 50px;
  }

  .sort-options {
    margin: 0px;
    padding-left: 20px;
  }

  .sort-options label {
    margin: 0px;
  }

  .zoomable-graph {
    .apply {
      margin-top: 10px;
    }

  }

  //end facets

  //query-info

  .s-info-changeable {
    margin-left: 21%;
  }

  // search bar css

  .s-search-bar-input-row {
    width: 71%;
    padding-left: 0px;

  }

  .s-search-submit {
    width: 50px;
  }

  .open .show-form {
    background-color: darken(@brand-warning, 5%) !important;
  }

  .show-form:hover {
    background-color: lighten(@brand-warning, 10%);
  }

  .open .show-form:hover {
    background-color: darken(@brand-warning, 5%) !important;
  }

  .inactive-style {
    color: @gray-light
  }

  .active-style {
    color: @component-active-bg
  }

  //weird stuff going on with input-addon overriding css
  .search-submit {
    background-color: @brand-primary !important;
    color: @body-bg !important
  }

  .search-dropdown {
    position: relative;
    left: 88%;
    top: -32px;
    z-index: 1000;

    ul.dropdown-menu {
      position: absolute;
      left: -88%;
      padding: 5px 10px;

    }

  }

  #search-dropdown-icon {
    font-size: 16px;
    color: lighten(@brand-primary, 15%);
  }

  #search-dropdown-icon:hover {
    color: @brand-primary;
  }

  .search-form-header .title {
    font-size: 15px;
  }

  .search-form-header .title:hover {
    color: darken(@brand-primary, 10%)

  }

  .search-form-title {
    font-size: 14px;
    display: inline !important;
  }

  .search-form-header {
    font-size: 14px;
    padding: 2px 8px;
    cursor: pointer;

  }

  .search-form-header-active .title {
    color: lighten(@brand-primary, 5%);
  }

  .search-form-header-active .title:hover {
    color: lighten(@brand-primary, 10%) !important;
  }

  .search-form-section {
    padding: 10px;
  }

  .s-quick-add {
    padding-left: 0.5%;
  }

  .show-form {
    .draw-attention-text {
      transition-property: color;
      transition-duration: 2.5s;
      color: darken(@brand-warning, 5%) !important;
    }

    .show-fields {
      transition-property: background-color;
      transition-duration: 2.5s;
      background-color: none;

    }
  }

  .draw-attention-text:hover {
    color: @brand-warning !important;

  }

  // contents nav widget

  .contents-nav {
    width: 100%;
    margin: auto;
    color: @gray-dark;
    cursor: pointer;
    list-style: none;
    height: 42px;
    padding: 12px 5px 10px 5px;
    a {
      text-decoration: none;
    }
  }

  .contents-nav:hover {
    color: @gray-darker;

  }

  .contents-nav-active {
    position: relative;
    background: #88b7d5;
    background-color: lighten(@brand-info, 32%);
    border: 1px solid lighten(@btn-info-border, 18%);

  }

  .contents-nav-active:after, .contents-nav-active:before {
    left: 100%;
    top: 50%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
  }

  .contents-nav-active:after {
    border-color: rgba(136, 183, 213, 0);
    border-left-color: lighten(@brand-info, 32%);
    border-width: 20px;
    margin-top: -20px;
  }

  .contents-nav-active:before {
    border-color: rgba(204, 204, 204, 0);
    border-left-color: darken(saturate(@btn-info-border, 100%), 3%);
    border-width: 21px;
    margin-top: -21px;
  }

  .table-of-contents {
    height: 100%;
    margin-right: 25%
  }

  .table-of-contents {
    height: 100%;
    margin-right: 25%
  }

  /**
   Query-Builder UI
   */

  .rule-container,
  .rules-group-container,
  .rule-placeholder {
    margin: 4px 0;
    border-radius: @border-radius-small;
    background: #fff;
    background: rgba(255, 255, 255, 0.9);
    padding: 6px;

  }

  /* GROUPS */
  .rules-group-container {
    border: 1px dashed #66afe9;
  }
  .rules-group-header {
    margin-bottom: 10px;
  }
  .rules-group-header input[name$=_cond] {
    display: none;
  }

  /* RULES */
  .rules-list {
    list-style: none;
    padding: 0 0 0 20px;
    margin: 0;
  }
  .rule-container {
  }
  .rule-container.has-error {
    background: #fdd;
    border-color: #f99;
  }
  .rule-container > div:not(.rule-header) {
    display: inline-block;
    margin: 0 5px 0 0;
    vertical-align: top;
  }
  .rule-value-container:not(:empty) {
    border-left: 1px solid #ddd;
    padding-left: 5px;
  }
  .rule-value-container label {
    margin-bottom: 0;
  }
  .rule-value-container label.block {
    display: block;
  }
  .rule-container select,
  .rule-container input[type=text],
  .rule-container input[type=number] {
    padding: 1px;
  }

  /* TICKS */
  .rules-list > * {
    position: relative;
  }
  .rules-list > *:before,
  .rules-list > *:after {
    content: '';
    position: absolute;
    left: -15px;
    width: 15px;
    height: calc(50% + 4px);
    border-color: #ccc;
    //border-style:solid;
  }

  .rules-list > *:before {
    top: -2px;
    border-width: 0 0 2px 2px;
  }
  .rules-list > *:after {
    top: 50%;
    border-width: 0 0 0 2px;
  }

  .rules-list > *:first-child:before {
    top: -12px;
    height: calc(50% + 14px);
  }
  .rules-list > *:last-child:before {
    border-radius: 0 0 0 4px;
  }
  .rules-list > *:last-child:after {
    display: none;
  }

  /* DRAG & DROP */
  .rule-container .drag-handle,
  .rules-group-container .drag-handle {
    cursor: move;
    display: inline-block;
  }

  .rule-container .dragged,
  .rules-group-container .dragged {
    opacity: 0.5;
  }

  .rule-placeholder {
    border: 1px dashed #bbb;
    opacity: 0.7;
  }

  /* hide first delete button and drag handle */
  .query-builder > .rules-group-container > .rules-group-header [data-delete],
  .query-builder > .rules-group-container > .rules-group-header .drag-handle {
    display: none;
  }

  .btn:active, .btn.active {
    color: #66afe9;
    background-color: white;
  }

  .query-builder > .rules-group-container > .rules-group-header > .btn-group > .btn-primary {
    display: none;
  }
  .btn-danger {
    background-color: rgba(255, 0, 204, 0);
    border: 0px;
    color: @brand-danger;
  }
  .btn-success {
    color: @brand-success;
    background-color: rgba(255, 0, 204, 0);
    border: 0px;
  }
  div.query-builder > .rules-group-container {
    border: 1px solid white;
  }


  //  styling for abstract page

  .facebook-icon {
    .fa;
    .fa-2x;
    color: @facebook-color;
    &:before {
      content: @fa-var-facebook-square;
    }
  }

  .mendeley-icon {
    .fa;
    .fa-2x;
    color: @mendeley-color;
    &:before {
      content: @fa-var-facebook-square;
    }

  }

  .twitter-icon {
    .fa;
    .fa-2x;
    color: @twitter-color;
    &:before {
      content: @fa-var-twitter-square;
    }

  }

  .sciencewise-icon {

    background-color: @sciencewise-color;
    color: white;
    font-size: 10px;
    width: 41px;
    height: 50px;
    padding: 2px;

    &:before {
      content: "Science WISE"
    }

  }

  .s-open-access-image {
    .fa;
    .fa-lg;
    &:before {
      content: @fa-var-unlock-alt;
    }
    color: @brand-success;
  }

  .s-doi {
    dt, dd {
      display: inline-block;
    }
  }

  .s-toggle-aff {
    padding: 0px;
    position: relative;
    top: -12px;
  }

  .s-abstract-title-bibcode {
    margin: 0px;
  }

  #abstract-metadata li {
    padding: 1px;
  }

  #abstract-metadata ul {
    padding-left: 0.8%;
  }

  .s-abstract-num {
    font-family: @font-family-sans-serif;
    font-weight: 300;
    font-size: 23px;
  }

  .s-abstract-nav-col a:hover {
    text-decoration: none;
  }

  .s-abstract-title-info-row {
    font-style: italic;
    font-size: 16px;
    padding-top: 20px;
    font-variant: all-small-caps;
  }

  .abstract-title {
    margin-top: 0px;
    margin-bottom: 0px;
  }

  .s-abstract-title-row {
    padding: 5px 0px 20px 0px;
    margin-bottom: 10px;

    h4 {
      font-size: 20px;
    }
  }

  .s-abstract-nav {

    padding: 5px 0px;
    background-color: darken(@gray-lighter, 3%);
    margin-bottom: 5px;
    text-align: center;
    cursor: pointer;
    font-size: 16px !important;
  }

  .s-abstract-nav:hover {

    background-color: darken(@gray-lighter, 5%);
  }

  .s-abstract-nav-active {
    color: white;
    background-color: lighten(@brand-info, 12%);
    border: none;
  }

  .s-abstract-nav-inactive {
    background-color: lighten(@gray-lighter, 5%);
    color: lighten(@gray-light, 10%) !important;
  }

  .s-abstract-nav-active:hover {
    background-color: lighten(@brand-info, 8%);
  }

  .s-abstract-nav-inactive:hover {
    background-color: lighten(@gray-lighter, 5%);
    cursor: not-allowed;
  }

